/* ************************************************************************** */
/*                                                                            */
/*                                                        :::      ::::::::   */
/*   lexer.c                                            :+:      :+:    :+:   */
/*                                                    +:+ +:+         +:+     */
/*   By: dmorgil <marvin@42.fr>                     +#+  +:+       +#+        */
/*                                                +#+#+#+#+#+   +#+           */
/*   Created: 2018/12/30 17:41:24 by dmorgil           #+#    #+#             */
/*   Updated: 2019/02/03 12:15:21 by nkertzma         ###   ########.fr       */
/*                                                                            */
/* ************************************************************************** */

#include "lexer.h"

static int			g_branch_table[128][25] =
	{
		{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 0. nul */
		{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 1. soh */
		{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 2. stx */
		{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 3. etx */
		{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 4. eot */
		{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 5. enq */
		{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 6. ack */
		{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 7. bel */
		{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 8. bs */
		{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 9. ht */
		{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 10. nl */
		{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 11. vt */
		{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 12. np */
		{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 13. cr */
		{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 14. so */
		{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 15. si */
		{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 16. dle */
		{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 17. dc1 */
		{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 18. dc2 */
		{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 19. dc3 */
		{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 20. dc4 */
		{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 21. nak */
		{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 22. syn */
		{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 23. etb */
		{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 24. can */
		{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 25. em */
		{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 26. sub */
		{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 27. esc */
		{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 28. fs */
		{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 29. gs */
		{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 30. rs */
		{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 31. us */
		{0, 17, 0, 0, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 32. sp */
		/* {0, 6, 0, 0, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /1* 32. sp *1/ */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 33. ! */
		{0, 5, 0, 0, 3, 0, 0, 0, 6, 11, 14, 11, 0, 0, 6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 34. " */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 35. # */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 36. $ */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 37. % */
		{0, 7, 0, 0, 3, 8, 0, 6, 8, 11, 8, 11, 0, 0, 8, 0, 6, 0, 0, 0, 0, 0, 0, 0, 0}, /* 38. & */
		{0, 9, 0, 0, 3, 8, 0, 0, 8, 0, 8, 6, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 39. ' */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 40. ( */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 41. ) */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 42. * */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 43. + */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 44. , */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 6, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 45. - */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 46. . */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 47. / */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 48. 0 */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 49. 1 */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 50. 2 */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 51. 3 */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 52. 4 */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 53. 5 */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 54. 6 */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 55. 7 */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 56. 8 */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 57. 9 */
		{0, 0, 0, 0, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 58. : */
		{0, 15, 0, 0, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 6, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 59. ; */
		{0, 16, 0, 0, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 12, 0, 0, 0, 0, 0, 0, 0, 0}, /* 60. < */
		{0, 3, 6, 3, 3, 8, 0, 6, 8, 11, 8, 11, 6, 6, 8, 0, 6, 0, 0, 0, 0, 0, 0, 0, 0}, /* 61. = */
		{0, 2, 13, 0, 3, 8, 0, 6, 8, 11, 8, 11, 0, 0, 8, 0, 6, 0, 0, 0, 0, 0, 0, 0, 0}, /* 62. > */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 63. ? */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 64. @ */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 65. A */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 66. B */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 67. C */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 68. D */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 69. E */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 70. F */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 71. G */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 72. H */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 73. I */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 74. J */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 75. K */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 76. L */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 77. M */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 78. N */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 79. O */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 80. P */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 81. Q */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 82. R */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 83. S */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 84. T */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 85. U */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 86. V */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 87. W */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 88. X */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 89. Y */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 90. Z */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 91. [ */
		{0, 4, 0, 4, 4, 10, 0, 0, 10, 11, 10, 11, 0, 0, 10, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 92. \ */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 93. ] */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 94. ^ */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 95. _ */
		{0, 0, 0, 0, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 96. ` */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 97. a */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 98. b */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 99. c */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 100. d */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 101. e */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 102. f */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 103. g */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 104. h */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 105. i */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 106. j */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 107. k */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 108. l */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 109. m */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 110. n */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 111. o */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 112. p */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 113. q */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 114. r */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 115. s */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 116. t */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 117. u */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 118. v */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 119. w */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 120. x */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 121. y */
		{0, 3, 0, 3, 3, 0, 0, 0, 0, 11, 0, 11, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 122. z */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 123. { */
		{0, 3, 6, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 124. | */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 125. } */
		{0, 3, 0, 3, 3, 8, 0, 0, 8, 11, 8, 11, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 126. ~ */
		{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}, /* 127. del */
	};

char	*dfa(char **inp, char **symbol_table)
{
	char		*lex;
	char		*str;
	int			state;
	int			i;

	i = 0;
	state = 1;
	lex = NULL;
	str = *inp;
	while (str[i])
	{
		state = g_branch_table[(int)(str[i])][state];
		if (!state)
		{
			lex = push_symbol(symbol_table, str, i);
			*inp = &(str[i]);
			return (lex);
		}
		i++;
	}
	if (i != 0)
	{
		lex = push_symbol(symbol_table, str, i);
		*inp = &(str[i]);
	}
	return (lex);
}

int				build_lexems(char *lexstr, void **lexems, char *symbol_table)
{
	char	*lexem;

	while ((lexem = dfa(&lexstr, &symbol_table)))
		if (!(push_token(lexems, lexem)))
			return (0);
	return (1);
}

t_lexer			*lexer(char const *str)
{
	t_lexer		*lexer;
	void		*lexems;
	char		*symbol_table;
	char		*lexstr;

	if (!(lexstr = trim_quotes((char *)str)))
		return (NULL);
	ft_putendl(lexstr);
	if (!(lexems = vector_create(sizeof(t_lexem))))
		return (lexer_die(lexstr, NULL, NULL));
	if (!(symbol_table = (char *)malloc(ft_strlen(lexstr) * 2)))
		return (lexer_die(lexstr, lexems, NULL));
	if (!(build_lexems(lexstr, &lexems, symbol_table)))
		return (lexer_die(lexstr, lexems, symbol_table));
	if (!(lexer = (t_lexer *)malloc(sizeof(t_lexer))))
		return (lexer_die(lexstr, lexems, symbol_table));
	lexer->lexems = lexems;
	lexer->symbol_table = symbol_table;
	free(lexstr);
	return (lexer);
}
